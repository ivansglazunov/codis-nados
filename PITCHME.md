# КодисНадос

#### Типы данных (только typeof). Разница ссылки и данных. Объекты. Правильное чтение. Инструкции и выражения.

---

@snap[midpoint text-left span-90 text-06]

## Синтаксическая конструкция (СК)

Любой код состоит из СК. Их читает интерпритатор и выполняет выполняет в определенном порядке.

Любая СК может принимать данные.

Любая СК может иметь свойства:

- Создает, изменяет или удаляет данные. (Меняет данные МД)
- Объявляет, переопределяет или удаляет переменные. (Меняет переменные МП)
- Переходит на определенный участок кода. (Переходит П)
- Возвращает данные во внешнюю СК. (Возвращает данные ВД)

Других действий СК делать не может.

---

@snap[midpoint text-left span-90 text-04]

### Данные

Например строки или числа. Они храняться в памяти. Их можно куда-то передать. У них есть тип данных возвращаемый typeof.

У каждого типа данных есть СК для создания новых данных.

У некоторых типов могут быть особые СК для обращения или изменению их содержимого.

Эти критерии будут рассмотрены при изучении типов данных.

### Ссылки

Например переменные. Они тоже храняться в памяти. Их нельзя передать.

К ней можно обратиться, после чего она вернет те данные на которые ссылается.

Ссылка не является данными, ссылка всегда ссылается на какие-то данные.

Её можно создать, пересоздать или удалить. Её нельзя передать, и у неё нет типа.

### Выражения

Любая СК является выражением, но может не являться инструкцией.

Выражение может быть вложено и возвращать данные в другую СК/выражение.

### Инструкции

СК называется инструкцией если её нельзя вложить в другую СК и она не может возвращать данные. Если инструкцию попытаться вложить в какое либо другое выражение, компилятор выдаст ошибку. Любое выражение может не иметь родительского СК-выражения, но только инструкции в принципе не могут его иметь.

---

@snap[midpoint text-left span-90 text-05]

## string

Тип данных. Хранит в памяти строки из символов.

Считается типом данных так как выражение `typeof(?)` возвращает `"string"` на основе строки.

```js
typeof("abc") // вернет "string"
```

#### СК создания строки

`"abc"` или `'abc'`

Компилятор посчитает что это СК создания строки, если была открыта, и закрыта двойная или одинарная ковычка.

> После ES5 появляются новые СК для создания строк, которые будут рассмотрены в дальнейшем.

@css[text-03]
- ~~МП~~ - Не влияет на переменные.
- ~~П~~ - Не влияет на последовательность выполнения.
- **МД** - Создает строку.
- **ВД** -  Возвращает созданные данные во внешнюю СК.

---

@snap[midpoint text-left span-90 text-05]

## number

Тип данных. Хранит числа.

Считается типом данных так как выражение `typeof(?)` возвращает `"number"` на основе числа.

#### СК создания строки

`123` или `0.0123`

Компилятор посчитает что это СК создания числа, если первый символ был числом, и в последовательности не встречается буквенных символов.

@css[text-03]
- ~~МП~~ - Не влияет на переменные.
- ~~П~~ - Не влияет на последовательность выполнения.
- **МД** - Создает число.
- **ВД** -  Возвращает созданные данные во внешнюю СК.

---

@snap[midpoint text-left span-90 text-05]

## Выражение typeof

#### Синтаксическая конструкция

```
typeof(?)
```

#### Свойства СК

@css[text-03]
- ~~МП~~ - Не влияет на переменные.
- ~~П~~ - Не влияет на последовательность выполнения.
- **МД** - Создает строку обозначающую тип данных переданых.
- **ВД** -  Возвращает данные во внешнюю СК.

#### Пример

```js
typeof("abc") // вернет "string"
typeof(123) // вернет "number"
```

---

@snap[midpoint text-left span-90 text-05]

## СК присвоения и обращения к ссылке

Присваивает некоторые данные справа, некоторой ссылке слева.

Это не единственный синтаксис присвоения.

#### Синтаксическая конструкция

```js
// обращение к данным по ссылке
?
// присвоение данных ссылке
? = ?
```

#### Чтение

- Если компилятором будет найден символ присвоения `=`:
- Выполняет левую часть выражения `?`, получает существующую ссылку.
- Выполняет правую часть выражения `?` и получает данные.
- Присваивает данные из правой части, ссылке в левой части.
- Возвращает данные во внешнюю СК.

#### Свойства СК

@css[text-03]
- ~~П~~ - Не влияет на последовательность выполнения.
- ~~МД~~ - Не меняет данные.
- **МП** - Устанавливает новое значение у ссылки.
- **ВД** -  Возвращает данные установленные в ссылку во внешнюю СК.

---

#### Пример

```js
a = 123;
```

##### Выполнение вложенных СК

Подготавливаются все данные и ссылки из вложенных СК.

- Выполняет левую часть выражения присвоения `? = ?`, в данном случае `a`. Компилятор временно запоминает найденную ссылку.
- В правой части выражения написана вложенная СК создания числа. Он выполняется отдельно и из него получается результат, в данном случае - созданное число `123`.

##### Выполнение СК присвоения

- Присваивает данные (созданное число `123`) из правой части, ссылке в левой части. Теперь ссылка `a` ссылается на данные `123`.
- Возвращает данные во внешнюю СК. Так как внешней СК нет, их никто не принимает.

---

#### Пример

Здесь представлены больше СК вложенных друг в друга.

```js
a = b = 123;
```

##### Выполнение вложенных СК

Подготавливаются все данные и ссылки из вложенных СК.

- Выполняет левую часть первого выражения присвоения `a = ?`, в данном случае `a`. Компилятор временно запоминает найденную ссылку.
- Выполняет левую часть второго выражения присвоения `b = 123`, в данном случае `b`. Компилятор временно запоминает найденную ссылку.
- В правой части второго выражения присвоения `b = 123` написана вложенная СК создания числа `123`. Она выполняется отдельно и из неё получается результат её выполнения, в данном случае - созданное число.

##### Выполнение СК присвоения

- Во втором выражении присвоения `b = 123`, из правой части данные `123` присваиваются ссылке из левой части `b`. Теперь ссылка `b` ссылается на данные `123`.
- В первом выражении присвоения `a = ?`, правая часть выражения является другой СК присвоения, результатом работы которого является присвоенное значение, в данном случае `123`. Это значение присваивается ссылке из левой части `a`. Теперь ссылка `a` тоже ссылается на данные `123`.
- `a = ?` Возвращает данные во внешнюю СК. Так как внешней СК нет, их никто не принимает.

---

@snap[midpoint text-left span-90 text-06]

## Порядок выполнения СК

##### Что такое возвращение данных из СК
- Если выражение СК не является инструкцией, оно может возвращать данные.
- То что оно возвращает данные, не значит что их обязательно принимать и с ними что-то делать.
- Если вокруг СК есть другая СК, которая принимает данные из вложенной, то эти данные будут использованы. Если такой нет, то не будут.

##### Выполнение вложенных СК и приоритетность выполнения

СК могут иметь вложенные СК. Первыми будут выполняться те у которых нет вложенных СК, и процесс выполнения СК компилятором будет двигаться от них к их родитялем пока не дойдет до той СК, у которой нет оборачивающей родительской СК. На этом эта последовательность выполнения СК заканчивается и начнется выполнение следующей после `;`

Каждая из СК читается так:

1. Если все вложенные СК выполнены и из них получены результаты.
2. Выполняет операцию данной СК (МП или П или МД или ВД).
3. Возвращает результат выполнения данной СК в родительскую внешнюю СК если такая была и применяет к следующей по приоритетности выполнения СК пункт 1.

---

@snap[midpoint text-left span-90 text-05]

## Инструкция var

#### Синтаксическая конструкция

```
var n? [= v?][, n? [= v?][, n? [= v?][, n? [= v?]...]]]
```

#### Чтение

1. Если будет найдена последовательность `var`:
2. Создать переменную указанную в `n?`.
3. Если далее следует выражение присвоения `n? = v?`:
  - Выполняет левую часть выражения `n?`, получает ссылку, на только что созданную переменную.
  - Выполняет правую часть выражения `v?` и получает данные.
  - Присваивает данные из правой части ссылке в левой чисти.
  - ~~Возвращает данные.~~ Не возвращает данные, так как их некуда возвращать, `var` это инструкция.
4. Если далее следует `, n?`, повторяетсы с 2 пункта.

#### Свойства СК

- ~~П~~ - Не влияет на последовательность выполнения.
- ~~МД~~ - Не меняет данные.
- ~~ВД~~ -  Не возвращает данные так как `var` инструкция.
- **МП** - Заменяет значение у ссылки.

---

## Практика

Реальные примеры создания данных, присвоения и переприсвоения переменных.

---

## boolean

---

## object

---

## undefined

---

## function

